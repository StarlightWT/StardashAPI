html
  head
    title Dashboard
    link(rel='stylesheet', type='text/css', href='/css/main.css')
  body
    include modules/navbar.pug
    if !role
      #selectRole 
        h1 Welcome to StarDash! 
        h2 Please select your role: 
        .buttons 
          a keyholder 
          a() lockee
        h3 (You can change this at any time!)
    
    if role=="keyholder" || role=="switch"
      
      #activeLocks 
        h1 Active locks
        ul#lockList
        script.
          const list = document.getElementById("lockList");
          let activeLocks = [!{locks}] ?? [];
          activeLocks.forEach((lock) => {
            var li = document.createElement("li");
            li.innerHTML = `
              <div id="timer">00:00:00:00</div>
              <div id="actions">
                <i class="fa-regular fa-clock"></i>
                <i class="fa-regular fa-snowflake"></i>
                <i class="fa-solid fa-up-right-from-square"></i>
              </div>
              <div id="name">${lock.lockee.username}</div>`;

            li.innerHTML += `<script>
            console.log("Hello world!");
            var timeRemaining = lock.endsAt - Date.now();
                function updateTime(timeRemaining){
                let times = !{timeCalc}(timeRemaining);
            
                let daysElement = document.getElementById("days"),
                  hoursElement = document.getElementById("hours"),
                  minutesElement = document.getElementById("minutes"),
                  secondsElement = document.getElementById("seconds");
            
                daysElement.innerHTML =    times.days    < 10 ? \`0\${times.days}\`    : times.days;
                hoursElement.innerHTML =   times.hours   < 10 ? \`0\${times.hours}\`   : times.hours;
                minutesElement.innerHTML = times.minutes < 10 ? \`0\${times.minutes}\` : times.minutes;
                secondsElement.innerHTML = times.seconds < 10 ? \`0\${times.seconds}\` : times.seconds;
              }
        
              updateTime(timeRemaining);
              timeRemaining -= 1000;
        
              setInterval(() => { 
                  updateTime(timeRemaining);
                  timeRemaining -= 1000;
              },1000);
              \<\/\s\c\r\i\p\t\>
            `
              

            list.append(li);
          });



    if role=="lockee" || role=="switch"

      
